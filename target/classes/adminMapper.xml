<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin">

	<update id="Pt_update" parameterType="UsersVO">
		update users set
			lev=1,
			pt = #{pt},
			startday = #{startday},
			endday= #{endday}			
		where
			u_id=#{u_id}
	</update>
	
	<insert id="T_insert" parameterType="TrainerVO">
		INSERT INTO Trainer VALUES 
		(#{t_id}, #{t_password}, #{t_name}, #{t_birth}, #{t_addr}
		, #{t_email}, #{t_nicname},5, #{t_gender})
	</insert>
		
	<!-- 회원목록 -->
	<select id="SelectByAllUserList" parameterType="hashmap" resultType="UsersVO">
		select * from users
	</select>
	
	<!-- 강사목록 -->
	<select id="SelectByAllTraninerList" parameterType="hashmap" resultType="TrainerVO">
		select * from trainer
	</select>
	
	<select id="SelectByUserInfo" parameterType="string" resultType="UsersVO">
		select * from users where u_id=#{u_id}
	</select>
	
	<select id="SelectByTraninerInfo" parameterType="string" resultType="TrainerVO">
		select * from trainer where t_id=#{t_id}
	</select>
	
	<!-- 동일한 아이디 갯수 얻기 (중복확인) -->
	<select id="SelectByTrainerId" parameterType="string" resultType="int">
		select count(*) from trainer where t_id=#{t_id}
	</select>
	
	<!-- 동일한 닉네임 갯수 얻기 (중복확인) -->
	<select id="SelectByTrainerNickname" parameterType="string" resultType="int">
		select count(*) from trainer where t_nicname=#{t_nicname}
	</select>
	
	<!-- 1개 얻기 (admin_id)로 얻기 -->
	<select id="SelectByAdminInfo" parameterType="string" resultType="AdminVO">
		select * from admin where a_id=#{a_id}
	</select>
	
</mapper>
